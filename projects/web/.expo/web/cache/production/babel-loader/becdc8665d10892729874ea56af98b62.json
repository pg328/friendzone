{"ast":null,"code":"import{runOnUI}from\"../core\";import{withStyleAnimation}from\"../animation/styleAnimation\";import{ColorProperties}from\"../UpdateProps\";import{processColor}from\"../Colors\";runOnUI(function(){'worklet';var configs={};var enteringAnimationForTag={};global.LayoutAnimationRepository={configs:configs,registerConfig:function registerConfig(tag,config){configs[tag]=config;enteringAnimationForTag[tag]=null;},removeConfig:function removeConfig(tag){delete configs[tag];delete enteringAnimationForTag[tag];},startAnimationForTag:function startAnimationForTag(tag,type,yogaValues){if(configs[tag]==null){return;}var style=configs[tag][type](yogaValues);var currentAnimation=style.animations;if(type==='entering'){enteringAnimationForTag[tag]=style;}else if(type==='layout'&&enteringAnimationForTag[tag]!==null){var entryAniamtion=enteringAnimationForTag[tag].animations;var layoutAnimation=style.animations;currentAnimation={};for(var key in entryAniamtion){currentAnimation[key]=entryAniamtion[key];}for(var _key in layoutAnimation){currentAnimation[_key]=layoutAnimation[_key];}}var sv=configs[tag].sv;_stopObservingProgress(tag,false);_startObservingProgress(tag,sv);var backupColor={};for(var _key2 in style.initialValues){if(ColorProperties.includes(_key2)){var value=style.initialValues[_key2];backupColor[_key2]=value;style.initialValues[_key2]=processColor(value);}}sv.value=Object.assign({},sv._value,style.initialValues);_stopObservingProgress(tag,false);var animation=withStyleAnimation(currentAnimation);animation.callback=function(finished){if(finished){_stopObservingProgress(tag,finished);}style.callback&&style.callback(finished);};if(backupColor){configs[tag].sv._value=Object.assign(Object.assign({},configs[tag].sv.value),backupColor);}configs[tag].sv.value=animation;_startObservingProgress(tag,sv);}};})();","map":{"version":3,"names":["runOnUI","withStyleAnimation","ColorProperties","processColor","configs","enteringAnimationForTag","global","LayoutAnimationRepository","registerConfig","tag","config","removeConfig","startAnimationForTag","type","yogaValues","style","currentAnimation","animations","entryAniamtion","layoutAnimation","key","sv","_stopObservingProgress","_startObservingProgress","backupColor","initialValues","includes","value","Object","assign","_value","animation","callback","finished"],"sources":["/Users/pg328/Projects/friendzone/node_modules/react-native-reanimated/lib/reanimated2/layoutReanimation/LayoutAnimationRepository.js"],"sourcesContent":["/* global _stopObservingProgress, _startObservingProgress */\nimport { runOnUI } from '../core';\nimport { withStyleAnimation } from '../animation/styleAnimation';\nimport { ColorProperties } from '../UpdateProps';\nimport { processColor } from '../Colors';\nrunOnUI(() => {\n    'worklet';\n    const configs = {};\n    const enteringAnimationForTag = {};\n    global.LayoutAnimationRepository = {\n        configs,\n        registerConfig(tag, config) {\n            configs[tag] = config;\n            enteringAnimationForTag[tag] = null;\n        },\n        removeConfig(tag) {\n            delete configs[tag];\n            delete enteringAnimationForTag[tag];\n        },\n        startAnimationForTag(tag, type, yogaValues) {\n            if (configs[tag] == null) {\n                return; // :(\n            }\n            const style = configs[tag][type](yogaValues);\n            let currentAnimation = style.animations;\n            if (type === 'entering') {\n                enteringAnimationForTag[tag] = style;\n            }\n            else if (type === 'layout' && enteringAnimationForTag[tag] !== null) {\n                const entryAniamtion = enteringAnimationForTag[tag].animations;\n                const layoutAnimation = style.animations;\n                currentAnimation = {};\n                for (const key in entryAniamtion) {\n                    currentAnimation[key] = entryAniamtion[key];\n                }\n                for (const key in layoutAnimation) {\n                    currentAnimation[key] = layoutAnimation[key];\n                }\n            }\n            const sv = configs[tag].sv;\n            _stopObservingProgress(tag, false);\n            _startObservingProgress(tag, sv);\n            const backupColor = {};\n            for (const key in style.initialValues) {\n                if (ColorProperties.includes(key)) {\n                    const value = style.initialValues[key];\n                    backupColor[key] = value;\n                    style.initialValues[key] = processColor(value);\n                }\n            }\n            sv.value = Object.assign({}, sv._value, style.initialValues);\n            _stopObservingProgress(tag, false);\n            const animation = withStyleAnimation(currentAnimation);\n            animation.callback = (finished) => {\n                if (finished) {\n                    _stopObservingProgress(tag, finished);\n                }\n                style.callback && style.callback(finished);\n            };\n            if (backupColor) {\n                configs[tag].sv._value = Object.assign(Object.assign({}, configs[tag].sv.value), backupColor);\n            }\n            configs[tag].sv.value = animation;\n            _startObservingProgress(tag, sv);\n        },\n    };\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}