{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _get from\"@babel/runtime/helpers/get\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import findNodeHandle from\"react-native-web/dist/exports/findNodeHandle\";import AnimatedNode from\"./AnimatedNode\";import AnimatedEvent from\"./AnimatedEvent\";import{createOrReuseStyleNode}from\"./AnimatedStyle\";import invariant from'invariant';import deepEqual from'lodash.isequal';import{val}from\"../val\";function sanitizeProps(inputProps){var props;for(var key in inputProps){var value=inputProps[key];if(value instanceof AnimatedNode&&!(value instanceof AnimatedEvent)){if(props===undefined){props={};}props[key]=value.__nodeID;}}return props;}export function createOrReusePropsNode(props,callback,oldNode){if(props.style){var style=createOrReuseStyleNode(props.style,oldNode&&oldNode._props.style);if(style){props=_objectSpread(_objectSpread({},props),{},{style:style});}}var config=sanitizeProps(props);if(config===undefined){return undefined;}if(oldNode&&deepEqual(config,oldNode._config)){return oldNode;}return new AnimatedProps(props,config,callback);}var AnimatedProps=function(_AnimatedNode){_inherits(AnimatedProps,_AnimatedNode);var _super=_createSuper(AnimatedProps);function AnimatedProps(props,config,callback){var _this;_classCallCheck(this,AnimatedProps);_this=_super.call(this,{type:'props',props:config},Object.values(props).filter(function(n){return!(n instanceof AnimatedEvent);}));_this._config=config;_this._props=props;_this._callback=callback;_this.__attach();return _this;}_createClass(AnimatedProps,[{key:\"toString\",value:function toString(){return\"AnimatedProps, id: \"+this.__nodeID;}},{key:\"__onEvaluate\",value:function __onEvaluate(){var props={};for(var key in this._props){var value=this._props[key];if(value instanceof AnimatedNode){props[key]=value.__getValue();}}return props;}},{key:\"__detach\",value:function __detach(){var nativeViewTag=findNodeHandle(this._animatedView);invariant(nativeViewTag!=null,'Unable to locate attached view in the native tree');this._disconnectAnimatedView(nativeViewTag);_get(_getPrototypeOf(AnimatedProps.prototype),\"__detach\",this).call(this);}},{key:\"update\",value:function update(){this._callback();if(!this._animatedView){return;}val(this);}},{key:\"setNativeView\",value:function setNativeView(animatedView){if(this._animatedView===animatedView){return;}this._animatedView=animatedView;var nativeViewTag=findNodeHandle(this._animatedView);invariant(nativeViewTag!=null,'Unable to locate attached view in the native tree');this._connectAnimatedView(nativeViewTag);}}]);return AnimatedProps;}(AnimatedNode);","map":{"version":3,"names":["AnimatedNode","AnimatedEvent","createOrReuseStyleNode","invariant","deepEqual","val","sanitizeProps","inputProps","props","key","value","undefined","__nodeID","createOrReusePropsNode","callback","oldNode","style","_props","config","_config","AnimatedProps","type","Object","values","filter","n","_callback","__attach","__getValue","nativeViewTag","findNodeHandle","_animatedView","_disconnectAnimatedView","animatedView","_connectAnimatedView"],"sources":["/Users/pg328/Projects/friendzone/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedProps.js"],"sourcesContent":["import { findNodeHandle } from 'react-native';\n\nimport AnimatedNode from './AnimatedNode';\nimport AnimatedEvent from './AnimatedEvent';\nimport { createOrReuseStyleNode } from './AnimatedStyle';\n\nimport invariant from 'invariant';\nimport deepEqual from 'lodash.isequal';\nimport { val } from '../val';\n\nfunction sanitizeProps(inputProps) {\n  let props;\n  for (const key in inputProps) {\n    const value = inputProps[key];\n    if (value instanceof AnimatedNode && !(value instanceof AnimatedEvent)) {\n      if (props === undefined) {\n        props = {};\n      }\n      props[key] = value.__nodeID;\n    }\n  }\n  return props;\n}\n\nexport function createOrReusePropsNode(props, callback, oldNode) {\n  if (props.style) {\n    const style = createOrReuseStyleNode(\n      props.style,\n      oldNode && oldNode._props.style\n    );\n    if (style) {\n      props = {\n        ...props,\n        style,\n      };\n    }\n  }\n  const config = sanitizeProps(props);\n  if (config === undefined) {\n    return undefined;\n  }\n  if (oldNode && deepEqual(config, oldNode._config)) {\n    return oldNode;\n  }\n  return new AnimatedProps(props, config, callback);\n}\n\nclass AnimatedProps extends AnimatedNode {\n  constructor(props, config, callback) {\n    super(\n      { type: 'props', props: config },\n      Object.values(props).filter((n) => !(n instanceof AnimatedEvent))\n    );\n    this._config = config;\n    this._props = props;\n    this._callback = callback;\n    this.__attach();\n  }\n\n  toString() {\n    return `AnimatedProps, id: ${this.__nodeID}`;\n  }\n\n  __onEvaluate() {\n    const props = {};\n    for (const key in this._props) {\n      const value = this._props[key];\n      if (value instanceof AnimatedNode) {\n        props[key] = value.__getValue();\n      }\n    }\n    return props;\n  }\n\n  __detach() {\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(\n      nativeViewTag != null,\n      'Unable to locate attached view in the native tree'\n    );\n    this._disconnectAnimatedView(nativeViewTag);\n    super.__detach();\n  }\n\n  update() {\n    this._callback();\n\n    if (!this._animatedView) {\n      return;\n    }\n\n    val(this);\n  }\n\n  setNativeView(animatedView) {\n    if (this._animatedView === animatedView) {\n      return;\n    }\n    this._animatedView = animatedView;\n\n    const nativeViewTag = findNodeHandle(this._animatedView);\n    invariant(\n      nativeViewTag != null,\n      'Unable to locate attached view in the native tree'\n    );\n    this._connectAnimatedView(nativeViewTag);\n  }\n}\n"],"mappings":"m8DAEA,MAAOA,aAAY,sBACnB,MAAOC,cAAa,uBACpB,OAASC,sBAAsB,uBAE/B,MAAOC,UAAS,KAAM,WAAW,CACjC,MAAOC,UAAS,KAAM,gBAAgB,CACtC,OAASC,GAAG,cAEZ,QAASC,cAAa,CAACC,UAAU,CAAE,CACjC,GAAIC,MAAK,CACT,IAAK,GAAMC,IAAG,GAAIF,WAAU,CAAE,CAC5B,GAAMG,MAAK,CAAGH,UAAU,CAACE,GAAG,CAAC,CAC7B,GAAIC,KAAK,WAAYV,aAAY,EAAI,EAAEU,KAAK,WAAYT,cAAa,CAAC,CAAE,CACtE,GAAIO,KAAK,GAAKG,SAAS,CAAE,CACvBH,KAAK,CAAG,CAAC,CAAC,CACZ,CACAA,KAAK,CAACC,GAAG,CAAC,CAAGC,KAAK,CAACE,QAAQ,CAC7B,CACF,CACA,MAAOJ,MAAK,CACd,CAEA,MAAO,SAASK,uBAAsB,CAACL,KAAK,CAAEM,QAAQ,CAAEC,OAAO,CAAE,CAC/D,GAAIP,KAAK,CAACQ,KAAK,CAAE,CACf,GAAMA,MAAK,CAAGd,sBAAsB,CAClCM,KAAK,CAACQ,KAAK,CACXD,OAAO,EAAIA,OAAO,CAACE,MAAM,CAACD,KAAK,CAChC,CACD,GAAIA,KAAK,CAAE,CACTR,KAAK,gCACAA,KAAK,MACRQ,KAAK,CAALA,KAAK,EACN,CACH,CACF,CACA,GAAME,OAAM,CAAGZ,aAAa,CAACE,KAAK,CAAC,CACnC,GAAIU,MAAM,GAAKP,SAAS,CAAE,CACxB,MAAOA,UAAS,CAClB,CACA,GAAII,OAAO,EAAIX,SAAS,CAACc,MAAM,CAAEH,OAAO,CAACI,OAAO,CAAC,CAAE,CACjD,MAAOJ,QAAO,CAChB,CACA,MAAO,IAAIK,cAAa,CAACZ,KAAK,CAAEU,MAAM,CAAEJ,QAAQ,CAAC,CACnD,CAAC,GAEKM,cAAa,uGACjB,uBAAYZ,KAAK,CAAEU,MAAM,CAAEJ,QAAQ,CAAE,+CACnC,uBACE,CAAEO,IAAI,CAAE,OAAO,CAAEb,KAAK,CAAEU,MAAO,CAAC,CAChCI,MAAM,CAACC,MAAM,CAACf,KAAK,CAAC,CAACgB,MAAM,CAAC,SAACC,CAAC,QAAK,EAAEA,CAAC,WAAYxB,cAAa,CAAC,GAAC,EAEnE,MAAKkB,OAAO,CAAGD,MAAM,CACrB,MAAKD,MAAM,CAAGT,KAAK,CACnB,MAAKkB,SAAS,CAAGZ,QAAQ,CACzB,MAAKa,QAAQ,EAAE,CAAC,aAClB,CAAC,kDAED,mBAAW,CACT,4BAA6B,IAAI,CAACf,QAAQ,CAC5C,CAAC,4BAED,uBAAe,CACb,GAAMJ,MAAK,CAAG,CAAC,CAAC,CAChB,IAAK,GAAMC,IAAG,GAAI,KAAI,CAACQ,MAAM,CAAE,CAC7B,GAAMP,MAAK,CAAG,IAAI,CAACO,MAAM,CAACR,GAAG,CAAC,CAC9B,GAAIC,KAAK,WAAYV,aAAY,CAAE,CACjCQ,KAAK,CAACC,GAAG,CAAC,CAAGC,KAAK,CAACkB,UAAU,EAAE,CACjC,CACF,CACA,MAAOpB,MAAK,CACd,CAAC,wBAED,mBAAW,CACT,GAAMqB,cAAa,CAAGC,cAAc,CAAC,IAAI,CAACC,aAAa,CAAC,CACxD5B,SAAS,CACP0B,aAAa,EAAI,IAAI,CACrB,mDAAmD,CACpD,CACD,IAAI,CAACG,uBAAuB,CAACH,aAAa,CAAC,CAC3C,0EACF,CAAC,sBAED,iBAAS,CACP,IAAI,CAACH,SAAS,EAAE,CAEhB,GAAI,CAAC,IAAI,CAACK,aAAa,CAAE,CACvB,OACF,CAEA1B,GAAG,CAAC,IAAI,CAAC,CACX,CAAC,6BAED,uBAAc4B,YAAY,CAAE,CAC1B,GAAI,IAAI,CAACF,aAAa,GAAKE,YAAY,CAAE,CACvC,OACF,CACA,IAAI,CAACF,aAAa,CAAGE,YAAY,CAEjC,GAAMJ,cAAa,CAAGC,cAAc,CAAC,IAAI,CAACC,aAAa,CAAC,CACxD5B,SAAS,CACP0B,aAAa,EAAI,IAAI,CACrB,mDAAmD,CACpD,CACD,IAAI,CAACK,oBAAoB,CAACL,aAAa,CAAC,CAC1C,CAAC,2BA3DyB7B,YAAY"},"metadata":{},"sourceType":"module"}